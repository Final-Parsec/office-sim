name: 'Publish Office Sim'
on:
  pull_request:
    branches: [ main ]
jobs:
  publish:
    runs-on: ubuntu-latest
    timeout-minutes: 5
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      - name: List files in the repository
        run: |
          ls ${{ github.workspace }}
      - uses: chickensoft-games/setup-godot@v1
        name: ðŸ¤– Setup Godot
        with:
          version: 4.3.0-stable
          use-dotnet: false
      - name: ðŸ”¬ Verify Setup
        run: |
          godot --version
      - name: Web Build
        run: |
          mkdir -v -p build/web
          godot -v --headless --path game --export-release "Web" ./build/web/index.html
      - uses: actions/upload-artifact@v4
        with:
          name: web
          path: build/web
      # - name: Publish game
      #   id: fp-publish
      #   uses: Final-Parsec/publish-game@v1
      #   with:
      #     game-name: 'Office Sim'
      #     asset-directory: 'fake_build_output'
      # - name: Show output from the publish
      #   run: echo "The time was ${{ steps.fp-publish.outputs.time }}"